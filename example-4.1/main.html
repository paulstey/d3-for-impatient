<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="d3.js"></script>
  <script>
    function coordsPixels(selector) {
      var txt = d3.select(selector).append("text");
      var svg = d3.select(selector).attr("cursor", "crosshair")
                  .on("mousemove", function() {
                    var pt = d3.mouse(svg.node());  // ERROR d3.mouse() is not a function (version??)
                    txt.attr("x", 18 + pt[0])
                       .attr("y", 6  + pt[1])
                       .text("" + pt[0] + ", " + pt[1]);
                  });
    }
  </script>
</head>

<body onload="coordsPixels('#coords')" >
  <svg id="coords" width="600" height="300" 
    style="background: rgb(238, 237, 237);"></svg>
</body>
</html>
